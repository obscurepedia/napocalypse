<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Baby Sleep Training Blog - Napocalypse{% endblock %}</title>
    <meta name="description" content="{% block description %}Expert baby sleep training guides, tips, and educational content to help your baby sleep better. Evidence-based advice for exhausted parents.{% endblock %}">
    <meta name="keywords" content="{% block keywords %}baby sleep, sleep training, parenting{% endblock %}">
    <link rel="stylesheet" href="/css/styles.css">
    {% block extra_css %}{% endblock %}

    <!-- Facebook Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1221450536702199');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1221450536702199&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Code -->

    <!-- Structured Data (Schema.org JSON-LD) -->
    {% block schema %}{% endblock %}
</head>
<body>
    <!-- Reading Progress Bar -->
    <div class="reading-progress" id="reading-progress"></div>

    <!-- Navigation Bar -->
    <nav class="navigation-bar">
        <div class="nav-content">
            <a href="/" class="logo">
                <span class="brand-icon">ðŸŒ™</span>
                <span class="brand-name">Napocalypse</span>
            </a>
            <ul class="nav-links">
                <li><a href="/blog">All Guides</a></li>
                <li><a href="/quiz" class="cta-button">Get Started</a></li>
            </ul>
            <button class="mobile-menu-toggle">â˜°</button>
        </div>
    </nav>

    <!-- Breadcrumb Navigation -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <div class="breadcrumb-container">
            <ol>
                <li><a href="/">Home</a></li>
                <li><a href="/blog">Blog</a></li>
                {% block breadcrumb_current %}<li aria-current="page">Article</li>{% endblock %}
            </ol>
        </div>
    </nav>

    <div class="blog-layout">
        <main class="blog-main-content">
            <!-- Table of Contents (for long articles) -->
            {% block table_of_contents %}{% endblock %}

            <article class="blog-post-content">
                {% block article_content %}{% endblock %}
            </article>
        </main>
        
        <!-- Sticky Sidebar -->
        <aside class="blog-sidebar">
            {% block sidebar %}
            <div class="sidebar-section">
                <h3>Related Sleep Guides</h3>
                <ul class="related-articles">
                    {% block related_articles %}
                    <li><a href="/blog/02-baby-wont-sleep-unless-held">Baby Won't Sleep Unless Held</a></li>
                    <li><a href="/blog/03-baby-wakes-every-hour">Baby Wakes Every Hour at Night</a></li>
                    <li><a href="/blog/08-wake-windows-by-age">Wake Windows by Age Chart</a></li>
                    <li><a href="/blog/05-baby-only-naps-30-minutes">Why Baby Only Naps 30 Minutes</a></li>
                    {% endblock %}
                </ul>
            </div>
            
            <div class="sidebar-section">
                <div class="sidebar-cta">
                    <h4>Need Help Now?</h4>
                    <p>Get a personalized sleep plan for your baby's specific challenges.</p>
                    <a href="/quiz" class="sidebar-cta-btn">Take Free Assessment</a>
                </div>
            </div>
            {% endblock %}
        </aside>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h4>Napocalypse</h4>
                <p>Personalized baby sleep training guidance that actually works for YOUR family. Evidence-based, compassionate, and effective.</p>
            </div>
            <div class="footer-section">
                <h4>Resources</h4>
                <ul>
                    <li><a href="/quiz">Free Sleep Assessment</a></li>
                    <li><a href="/blog">Sleep Guides</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Legal</h4>
                <ul>
                    <li><a href="/privacy">Privacy Policy</a></li>
                    <li><a href="/terms">Terms of Service</a></li>
                    <li><a href="/refund">Refund Policy</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <ul>
                    <li><a href="/contact">Contact Us</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p><small>&copy; 2025 Napocalypse. All rights reserved. | Medical Disclaimer: This is educational content, not medical advice. Always consult your pediatrician.</small></p>
        </div>
    </footer>

    <!-- Floating CTA -->
    <a href="/quiz" class="floating-cta" id="floating-cta">
        Get Your Sleep Plan â†’
    </a>

    <!-- Scripts -->
    <script>
    // Mobile Menu Toggle
    document.querySelector('.mobile-menu-toggle').addEventListener('click', function() {
        const navLinks = document.querySelector('.nav-links');
        navLinks.classList.toggle('mobile-active');
    });

    // Reading Progress Bar
    window.addEventListener('scroll', function() {
        const article = document.querySelector('.blog-post-content');
        if (!article) return;

        const articleTop = article.offsetTop;
        const articleHeight = article.offsetHeight;
        const windowHeight = window.innerHeight;
        const scrollTop = window.scrollY;

        const progress = Math.min(100, Math.max(0,
            ((scrollTop - articleTop + windowHeight) / articleHeight) * 100
        ));

        document.getElementById('reading-progress').style.width = progress + '%';
    });

    // Floating CTA - show after scrolling 300px
    window.addEventListener('scroll', function() {
        const floatingCta = document.getElementById('floating-cta');
        if (window.scrollY > 300) {
            floatingCta.classList.add('visible');
        } else {
            floatingCta.classList.remove('visible');
        }
    });
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>